!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).nomial={})}(this,(function(e){"use strict";class t{constructor(e){this.coefficients=e,this.degree=e.length-1}evaluate(e){let t=1,n=0;for(let i=0,s=this.coefficients.length;i<s;i++)n+=this.coefficients[i]*t,t*=e;return n}derivative(){const e=[];for(let t=1,n=this.coefficients.length;t<n;t++)e.push(this.coefficients[t]*t);return new t(e)}}function n(e,n){const i=e.coefficients[1],s=e.coefficients[2],f=e.coefficients[3],o=s+f*n;return new t([i+o*n,o,f])}function i(e,t,n){const i=e.coefficients[0],s=e.coefficients[1],f=e.coefficients[2],o=s*s-4*f*i;if(o>=0){const e=Math.sqrt(o),a=-.5*(s+e*(s<0?-1:1)),c=a/f,r=i/a,u=[],l=Math.min(c,r),h=Math.max(c,r);return l>=t&&l<=n&&u.push(l),h>=t&&h<=n&&u.push(h),u}return[]}function s(e,t,n,i,s,f){let o=(n+i)/2;if(Math.abs(i-n)<=2*f)return o;if(3===e.degree){let s=-0;for(let a=0;a<10;a++){if(s=o-e.evaluate(o)/t.evaluate(o),s=Math.max(n,Math.min(i,s)),Math.abs(o-s)<=f)return s;o=s}(o<n||o>i)&&(o=(n+i)/2)}const a=s;let c=e.evaluate(o);for(;;){Math.sign(c)===Math.sign(a)?n=o:i=o;let s=o-c/t.evaluate(o);if(n<s&&s<i)if(Math.abs(o-s)>f)o=s,c=e.evaluate(o);else{o=Math.sign(c)===Math.sign(a)?s+f:s-f;const t=e.evaluate(o);if(Math.sign(t)!==Math.sign(c))return s;c=t}else{if(o=(n+i)/2,o===n||o===i||i-n<=2*f)return o;c=e.evaluate(o)}}}e.Polynomial=t,e.polynomialRoots=function e(t,f=-1e3,o=1e3,a=1e-8){if(2===t.degree)return i(t,f,o);const c=t.derivative(),r=e(c,f,o,a);r.push(o);let u=f,l=t.evaluate(f);const h=[];for(let e=0;e<r.length;e++){const g=r[e],d=t.evaluate(g);if(Math.sign(l)!==Math.sign(d)){const e=s(t,c,u,g,l,a);if(3===t.degree){return[e,...i(n(t,e),f,o)]}h.push(e)}u=g,l=d}return h},Object.defineProperty(e,"__esModule",{value:!0})}));
