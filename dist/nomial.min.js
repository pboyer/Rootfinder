!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).nomial={})}(this,(function(e){"use strict";class t{constructor(e){this.coefficients=e,this.degree=e.length-1}evaluate(e){let t=0;for(let i=0,n=this.coefficients.length;i<n;i++)t+=this.coefficients[i]*Math.pow(e,i);return t}derivative(){const e=[];for(let t=1,i=this.coefficients.length;t<i;t++)e.push(this.coefficients[t]*t);return new t(e)}}function i(e,t,i,n,a){let s=(i+n)/2;if(Math.abs(n-i)<=2*a)return s;if(3===e.degree){let o=-0;for(let f=0;f<10;f++){if(o=s-e.evaluate(s)/t.evaluate(s),o=Math.max(i,Math.min(n,o)),Math.abs(s-o)<=a)return o;s=o}(s<i||s>n)&&(s=(i+n)/2)}const o=e.evaluate(i);let f=e.evaluate(s);for(;;){Math.sign(f)===Math.sign(o)?i=s:n=s;let l=s-f/t.evaluate(s);if(i<l&&l<n)if(Math.abs(s-l)>a)s=l,f=e.evaluate(s);else{s=Math.sign(f)===Math.sign(o)?l+a:l-a;const t=e.evaluate(s);if(Math.sign(t)!==Math.sign(f))return l;f=t}else{if(s=(i+n)/2,s===i||s===n||n-i<=2*a)return s;f=e.evaluate(s)}}}e.Polynomial=t,e.polynomialRoots=function e(t,n=-1e3,a=1e3,s=1e-8){if(2===t.degree)return function(e,t,i){const n=e.coefficients[0],a=e.coefficients[1],s=e.coefficients[2],o=a*a-4*s*n;if(o>=0){const e=Math.sqrt(o),f=-.5*(a+e*(a<0?-1:1)),l=f/s,r=n/f,u=[],c=Math.min(l,r),h=Math.max(l,r);return c>=t&&c<=i&&u.push(c),h>=t&&h<=i&&u.push(h),u}return[]}(t,n,a);const o=t.derivative(),f=e(o,n,a,s);f.push(a);let l=n;const r=[];for(let e=0;e<f.length;e++){let n=f[e];Math.sign(t.evaluate(l))!==Math.sign(t.evaluate(n))&&r.push(i(t,o,l,n,s)),l=n}return r},Object.defineProperty(e,"__esModule",{value:!0})}));
